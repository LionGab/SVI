<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador - Treinamento Focado (Modo Prova)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@400;600;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto Condensed', sans-serif;
            background-color: #111827;
        }
        .font-teko {
            font-family: 'Teko', sans-serif;
        }
        .card {
            background-color: #1F2937;
            border: 1px solid #374151;
            border-radius: 0.5rem;
            padding: 1.5rem;
            color: #D1D5DB;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 700;
            text-transform: uppercase;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            border: none;
        }
        .btn-start {
            background-color: #DC2626;
            color: white;
        }
        .btn-start:hover {
            background-color: #B91C1C;
        }
        .btn-answer {
            background-color: #374151;
            color: #D1D5DB;
            border: 1px solid #4B5563;
        }
        .btn-answer:hover {
            background-color: #4B5563;
        }
        .btn-answer.selected {
            background-color: #FBBF24;
            color: #1F2937;
            border-color: #FBBF24;
        }
        .btn-nav {
            background-color: #4B5563;
            color: white;
        }
        .btn-nav:hover {
            background-color: #6B7280;
        }
        .btn-finish {
            background-color: #16A34A;
            color: white;
        }
        .btn-finish:hover {
            background-color: #15803D;
        }
    </style>
</head>
<body class="text-gray-200">

    <div id="app" class="container mx-auto p-4 md:p-8 max-w-4xl">

        <!-- Tela Inicial -->
        <div id="start-screen" class="text-center">
            <h1 class="font-teko text-5xl md:text-7xl text-amber-400 uppercase tracking-wider">Treinamento Focado</h1>
            <h2 class="font-teko text-3xl md:text-4xl text-gray-300 uppercase">Modo de Prova (Sem Gabarito)</h2>
            <div class="card mt-8 text-left">
                <h3 class="font-teko text-2xl text-red-600">Missão: Análise de Vulnerabilidades</h3>
                <p class="mt-4"><strong>Objetivo:</strong> Executar um teste rápido de 30 questões focadas nas pegadinhas mais letais de cada disciplina, conforme a "Estratégia Attilio".</p>
                <ul class="list-disc list-inside mt-4 space-y-2">
                    <li><strong>Tempo Sugerido:</strong> 45 minutos.</li>
                    <li><strong>Regras de Engajamento:</strong> Opere em modo de prova. Sem consulta. Ao finalizar, a prova será encerrada sem exibir as respostas para uma avaliação posterior.</li>
                </ul>
            </div>
            <button id="start-button" class="btn btn-start mt-8 text-2xl font-teko">Iniciar Treinamento</button>
        </div>

        <!-- Tela do Simulado -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-4">
                <h2 class="font-teko text-3xl text-red-600">Em Andamento</h2>
                <div class="text-right">
                    <div id="timer" class="font-teko text-4xl text-amber-400">45:00</div>
                    <div id="progress" class="text-gray-400 font-bold">Questão 1 de 30</div>
                </div>
            </div>

            <div class="card">
                <p id="question-text" class="text-lg md:text-xl leading-relaxed"></p>
            </div>

            <div class="flex justify-center space-x-4 mt-6">
                <button class="btn btn-answer w-1/2" data-answer="C">Certo</button>
                <button class="btn btn-answer w-1/2" data-answer="E">Errado</button>
            </div>

            <div class="flex justify-between mt-8">
                <button id="prev-button" class="btn btn-nav">Anterior</button>
                <button id="next-button" class="btn btn-nav">Próxima</button>
            </div>
            
            <div class="text-center mt-8">
                <button id="finish-button" class="btn btn-finish">Finalizar Treinamento</button>
            </div>
        </div>

        <!-- Tela de Resultados (Modo de Prova) -->
        <div id="results-screen" class="hidden">
            <h1 class="font-teko text-5xl text-amber-400 text-center">Treinamento Concluído</h1>
            <div class="card mt-6 text-center">
                <h2 class="font-teko text-3xl">Prova Finalizada</h2>
                <p id="score-text" class="text-xl mt-4">Suas respostas foram registradas.</p>
            </div>
             <div class="text-center mt-8">
                <button id="restart-button" class="btn btn-start">Realizar Novo Treinamento</button>
            </div>
        </div>

    </div>

    <script>
        const questions = [
            // ESTATÍSTICA
            { subject: "ESTATÍSTICA", text: "Uma variável aleatória X segue distribuição exponencial com parâmetro λ = 0,5. A média e a variância de X são, respectivamente, 2 e 4.", correctAnswer: "C" },
            { subject: "ESTATÍSTICA", text: "Se uma variável Y segue distribuição de Poisson com λ = 3, então a probabilidade P(Y = 3) é maior que a probabilidade P(Y = 2).", correctAnswer: "E" },
            { subject: "ESTATÍSTICA", text: "Para uma distribuição normal padrão, aproximadamente 95% dos valores estão entre -2 e +2 desvios padrão da média.", correctAnswer: "C" },
            { subject: "ESTATÍSTICA", text: "Uma distribuição binomial com n = 100 e p = 0,05 pode ser aproximada por uma distribuição normal, pois n é suficientemente grande.", correctAnswer: "E" },
            { subject: "ESTATÍSTICA", text: "Em uma distribuição uniforme no intervalo [0, 10], a média é 5 e a variância é aproximadamente 8,33.", correctAnswer: "C" },
            // DIREITO
            { subject: "DIREITO", text: "Conforme o HC 126.292/2016 do STF, a execução provisória da pena após condenação em segunda instância não viola o princípio da presunção de inocência.", correctAnswer: "C" },
            { subject: "DIREITO", text: "A ADPF 347/2015 estabeleceu que a apresentação do preso à autoridade judicial deve ocorrer em até 48 horas após a prisão.", correctAnswer: "E" },
            { subject: "DIREITO", text: "O RE 635.659/2023 do STF descriminalizou o porte de drogas para consumo pessoal em todo o território nacional.", correctAnswer: "C" },
            { subject: "DIREITO", text: "O HC 191.836/2021 determinou que a prisão preventiva deve ser reavaliada a cada 90 dias pela autoridade judicial competente.", correctAnswer: "C" },
            { subject: "DIREITO", text: "A ADPF 672/2023 definiu competências exclusivas da União durante situações de pandemia, limitando a autonomia estadual.", correctAnswer: "E" },
            // PORTUGUÊS
            { subject: "PORTUGUÊS", text: "\"O delegado, após analisar minuciosamente os documentos, decidiu arquivar o inquérito\" mantém o mesmo sentido de \"Após analisar os documentos minuciosamente, o delegado decidiu arquivar o inquérito\".", correctAnswer: "E" },
            { subject: "PORTUGUÊS", text: "A frase \"Apenas o agente federal tinha autorização para acessar os arquivos\" expressa a mesma ideia que \"O agente federal apenas tinha autorização para acessar os arquivos\".", correctAnswer: "E" },
            { subject: "PORTUGUÊS", text: "\"João informou a Pedro que ele estava sendo investigado\" possui a mesma clareza referencial que \"João informou a Pedro estar ele sendo investigado\".", correctAnswer: "E" },
            { subject: "PORTUGUÊS", text: "\"O suspeito confessou, ontem, o crime à autoridade\" tem significado idêntico a \"O suspeito confessou ontem o crime à autoridade\".", correctAnswer: "E" },
            { subject: "PORTUGUÊS", text: "\"Todos os investigadores, exceto Maria, participaram da operação\" equivale a \"Exceto Maria, todos os investigadores participaram da operação\".", correctAnswer: "C" },
            // RACIOCÍNIO LÓGICO
            { subject: "RACIOCÍNIO LÓGICO", text: "A negação de \"Todo policial federal é honesto\" é \"Nenhum policial federal é honesto\".", correctAnswer: "E" },
            { subject: "RACIOCÍNIO LÓGICO", text: "A proposição \"Se investigou o crime, então identificou o suspeito\" é logicamente equivalente a \"Se não identificou o suspeito, então não investigou o crime\".", correctAnswer: "C" },
            { subject: "RACIOCÍNIO LÓGICO", text: "A negação de \"Se há evidências, então há condenação\" é \"Há evidências e não há condenação\".", correctAnswer: "C" },
            { subject: "RACIOCÍNIO LÓGICO", text: "A proposição \"Investiga o caso se e somente se há indícios suficientes\" é equivalente a \"Se investiga o caso, então há indícios suficientes\".", correctAnswer: "E" },
            { subject: "RACIOCÍNIO LÓGICO", text: "A negação de \"Existe pelo menos um agente que fala inglês\" é \"Nenhum agente fala inglês\".", correctAnswer: "C" },
            // INFORMÁTICA
            { subject: "INFORMÁTICA", text: "No Linux, o comando \"pwd\" é utilizado para alterar a senha do usuário atual.", correctAnswer: "E" },
            { subject: "INFORMÁTICA", text: "As permissões 755 em um arquivo significam que o proprietário tem permissões de leitura, escrita e execução, enquanto o grupo e outros usuários têm apenas leitura e execução.", correctAnswer: "C" },
            { subject: "INFORMÁTICA", text: "No LibreOffice Calc, a função PROCV é equivalente à função VLOOKUP do Microsoft Excel.", correctAnswer: "C" },
            { subject: "INFORMÁTICA", text: "Os comandos \"ps aux\" e \"ps -ef\" são idênticos e sempre produzem a mesma saída no sistema Linux.", correctAnswer: "E" },
            { subject: "INFORMÁTICA", text: "No LibreOffice Writer, a tecla F11 abre o painel de estilos, enquanto no Microsoft Word essa função é acessada através do menu Página Inicial.", correctAnswer: "C" },
            // CONTABILIDADE
            { subject: "CONTABILIDADE", text: "Provisão e reserva são termos equivalentes na contabilidade, ambos representando valores destinados a cobrir perdas futuras.", correctAnswer: "E" },
            { subject: "CONTABILIDADE", text: "No regime de competência, uma despesa antecipada deve ser registrada como passivo no momento do pagamento.", correctAnswer: "E" },
            { subject: "CONTABILIDADE", text: "Depreciação aplica-se a bens tangíveis, enquanto amortização refere-se a bens intangíveis, sendo que terrenos estão sujeitos à depreciação.", correctAnswer: "E" },
            { subject: "CONTABILIDADE", text: "A provisão para devedores duvidosos reduz diretamente o valor das contas a receber no ativo.", correctAnswer: "C" },
            { subject: "CONTABILIDADE", text: "No regime de caixa, as receitas e despesas são reconhecidas no momento da ocorrência do fato gerador, independentemente do recebimento ou pagamento.", correctAnswer: "E" }
        ];

        // Elementos da UI
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const startButton = document.getElementById('start-button');
        const questionText = document.getElementById('question-text');
        const answerButtons = document.querySelectorAll('.btn-answer');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const finishButton = document.getElementById('finish-button');
        const timerEl = document.getElementById('timer');
        const progressEl = document.getElementById('progress');
        const scoreTextEl = document.getElementById('score-text');
        const restartButton = document.getElementById('restart-button');

        // Estado do Simulado
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let timerInterval;
        let timeLeft = 45 * 60;

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultsScreen.classList.add('hidden');
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            timeLeft = 45 * 60;
            timerEl.textContent = "45:00";
            displayQuestion();
            startTimer();
        }
        
        function restartQuiz() {
            resultsScreen.classList.add('hidden');
            startQuiz();
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerEl.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                if (timeLeft <= 0) {
                    finishQuiz();
                }
            }, 1000);
        }

        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            questionText.innerHTML = `<span class="font-teko text-xl text-red-500">[${question.subject}]</span> ${question.text}`;
            progressEl.textContent = `Questão ${currentQuestionIndex + 1} de ${questions.length}`;

            answerButtons.forEach(button => {
                button.classList.remove('selected');
                if (userAnswers[currentQuestionIndex] === button.dataset.answer) {
                    button.classList.add('selected');
                }
            });

            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.disabled = currentQuestionIndex === questions.length - 1;
        }

        function selectAnswer(answer) {
            userAnswers[currentQuestionIndex] = answer;
            displayQuestion();
        }

        function finishQuiz() {
            clearInterval(timerInterval);
            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
        }

        // Event Listeners
        startButton.addEventListener('click', startQuiz);
        restartButton.addEventListener('click', restartQuiz);

        answerButtons.forEach(button => {
            button.addEventListener('click', () => selectAnswer(button.dataset.answer));
        });

        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            }
        });

        finishButton.addEventListener('click', finishQuiz);

    </script>
</body>
</html>
