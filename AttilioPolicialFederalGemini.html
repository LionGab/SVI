<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Prova - Modo de Prova (Sem Gabarito)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@400;600;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto Condensed', sans-serif;
            background-color: #111827;
        }
        .font-teko {
            font-family: 'Teko', sans-serif;
        }
        .card {
            background-color: #1F2937;
            border: 1px solid #374151;
            border-radius: 0.5rem;
            padding: 1.5rem;
            color: #D1D5DB;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 700;
            text-transform: uppercase;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            border: none;
        }
        .btn-start {
            background-color: #DC2626;
            color: white;
        }
        .btn-start:hover {
            background-color: #B91C1C;
        }
        .btn-answer {
            background-color: #374151;
            color: #D1D5DB;
            border: 1px solid #4B5563;
        }
        .btn-answer:hover {
            background-color: #4B5563;
        }
        .btn-answer.selected {
            background-color: #FBBF24;
            color: #1F2937;
            border-color: #FBBF24;
        }
        .btn-nav {
            background-color: #4B5563;
            color: white;
        }
        .btn-nav:hover {
            background-color: #6B7280;
        }
        .btn-finish {
            background-color: #16A34A;
            color: white;
        }
        .btn-finish:hover {
            background-color: #15803D;
        }
    </style>
</head>
<body class="text-gray-200">

    <div id="app" class="container mx-auto p-4 md:p-8 max-w-4xl">

        <!-- Tela Inicial -->
        <div id="start-screen" class="text-center">
            <h1 class="font-teko text-5xl md:text-7xl text-red-600 uppercase tracking-wider">Protocolo Morte Súbita</h1>
            <h2 class="font-teko text-3xl md:text-4xl text-gray-300 uppercase">Modo de Prova (Sem Gabarito)</h2>
            <div class="card mt-8 text-left">
                <h3 class="font-teko text-2xl text-amber-400">FASE 1: O SIMULADO DE EXTERMÍNIO</h3>
                <p class="mt-4"><strong>Missão:</strong> Executar uma prova de 20 questões "Nível Agente PF", com gabarito calibrado para simular com precisão as condições da prova.</p>
                <ul class="list-disc list-inside mt-4 space-y-2">
                    <li><strong>Tempo Limite:</strong> 30 minutos.</li>
                    <li><strong>Regras de Engajamento:</strong> Opere em modo de prova. Sem consulta. Ao finalizar, a prova será encerrada sem exibir as respostas.</li>
                </ul>
            </div>
            <button id="start-button" class="btn btn-start mt-8 text-2xl font-teko">Iniciar Simulado</button>
        </div>

        <!-- Tela do Simulado -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-4">
                <h2 class="font-teko text-3xl text-red-600">Em Andamento</h2>
                <div class="text-right">
                    <div id="timer" class="font-teko text-4xl text-amber-400">30:00</div>
                    <div id="progress" class="text-gray-400 font-bold">Questão 1 de 20</div>
                </div>
            </div>

            <div class="card">
                <p id="question-text" class="text-lg md:text-xl leading-relaxed"></p>
            </div>

            <div class="flex justify-center space-x-4 mt-6">
                <button class="btn btn-answer w-1/2" data-answer="C">Certo</button>
                <button class="btn btn-answer w-1/2" data-answer="E">Errado</button>
            </div>

            <div class="flex justify-between mt-8">
                <button id="prev-button" class="btn btn-nav">Anterior</button>
                <button id="next-button" class="btn btn-nav">Próxima</button>
            </div>
            
            <div class="text-center mt-8">
                <button id="finish-button" class="btn btn-finish">Finalizar Prova</button>
            </div>
        </div>

        <!-- Tela de Resultados (Modo de Prova) -->
        <div id="results-screen" class="hidden">
            <h1 class="font-teko text-5xl text-amber-400 text-center">Simulado Concluído</h1>
            <div class="card mt-6 text-center">
                <h2 class="font-teko text-3xl">Prova Finalizada</h2>
                <p id="score-text" class="text-xl mt-4">Suas respostas foram registradas.</p>
            </div>
             <div class="text-center mt-8">
                <button id="restart-button" class="btn btn-start">Realizar Novo Simulado</button>
            </div>
        </div>

    </div>

    <script>
        const questions = [
            // Questões Ajustadas para CERTAS
            {
                subject: "LEGISLAÇÃO ESPECIAL",
                text: "No âmbito de uma investigação sobre organização criminosa (Lei nº 12.850/13), um dos possíveis resultados da colaboração premiada é a concessão de perdão judicial, a redução da pena ou sua substituição, caso a colaboração voluntária resulte na identificação dos demais coautores e partícipes da organização criminosa e na revelação da estrutura hierárquica.",
                correctAnswer: "C",
            },
            {
                subject: "LEGISLAÇÃO ESPECIAL",
                text: "A Lei de Lavagem de Dinheiro (Lei nº 9.613/98) prevê, como um dos efeitos da condenação, a interdição do exercício de cargo ou função pública de qualquer natureza pelo dobro do tempo da pena privativa de liberdade aplicada.",
                correctAnswer: "C",
            },
            {
                subject: "DIREITO CONSTITUCIONAL",
                text: "A segurança viária, incluída no rol do art. 144 da CF, é exercida para a preservação da ordem pública, sendo que a competência para legislar sobre trânsito e transporte é concorrente entre a União, os Estados e o Distrito Federal, cabendo à União editar as normas gerais.",
                correctAnswer: "C",
            },
             {
                subject: "DIREITO CONSTITUCIONAL",
                text: "O entendimento do STF firmado em 2019, na ADI 5.874, veda a execução provisória da pena como um automatismo decorrente da condenação em segunda instância, mas tal regra não afeta a possibilidade de decretação de prisões cautelares, como a preventiva, quando presentes os seus requisitos legais.",
                correctAnswer: "C",
            },
            {
                subject: "DIREITO ADMINISTRATIVO",
                text: "Conforme a Lei nº 8.112/90, as sanções civis, penais e administrativas poderão cumular-se, sendo, em regra, independentes entre si, mas a responsabilidade administrativa do servidor será afastada no caso de absolvição criminal que negue a existência do fato ou sua autoria.",
                correctAnswer: "C",
            },
            {
                subject: "ESTATÍSTICA",
                text: "O número de denúncias anônimas recebidas em uma delegacia por dia segue uma distribuição de Poisson com variância igual a 4. Dessa forma, o número médio de denúncias por dia também é 4.",
                correctAnswer: "C",
            },
            {
                subject: "CONTABILIDADE",
                text: "A empresa adquiriu uma patente, um ativo intangível. A perda de valor econômico desse direito ao longo do tempo, em função de sua vida útil definida, deve ser registrada contabilmente por meio de quotas de amortização.",
                correctAnswer: "C",
            },
            {
                subject: "DIREITOS HUMANOS",
                text: "Os tratados e convenções internacionais sobre direitos humanos que forem aprovados pelo rito especial do art. 5º, § 3º, da CF (em cada Casa do Congresso, em dois turnos, por três quintos dos votos) serão equivalentes às emendas constitucionais.",
                correctAnswer: "C",
            },
            // Questões que já eram CERTAS
            {
                subject: "DIREITO CONSTITUCIONAL",
                text: "O artigo 144 da Constituição Federal estabelece que a Polícia Federal, órgão permanente, destina-se a apurar infrações penais contra a ordem política e social em detrimento de bens, serviços e interesses da União, exercendo com exclusividade as funções de polícia judiciária da União.",
                correctAnswer: "C",
            },
            {
                subject: "RACIOCÍNIO LÓGICO",
                text: "A negação da proposição \"Todo crime de lavagem de dinheiro deixa rastros e é complexo\" é \"Existe um crime de lavagem de dinheiro que não deixa rastros ou não é complexo\".",
                correctAnswer: "C",
            },
            {
                subject: "RACIOCÍNIO LÓGICO",
                text: "A proposição \"Se o agente não estava em serviço, então ele não portava a arma\" é logicamente equivalente a \"Se o agente portava a arma, então ele estava em serviço\".",
                correctAnswer: "C",
            },
            // Questões mantidas como ERRADAS (pegadinhas de alta qualidade)
            {
                subject: "PORTUGUÊS",
                text: "Texto Original: \"O agente, visto que estava de plantão, atendeu a ocorrência.\" A reescritura \"O agente, conquanto estivesse de plantão, atendeu a ocorrência.\" preserva a correção gramatical e o sentido original de causa.",
                correctAnswer: "E",
            },
            {
                subject: "ESTATÍSTICA",
                text: "O tempo, em horas, entre falhas consecutivas em um servidor de dados da PF segue uma distribuição Exponencial com média de 20 horas. Portanto, a taxa de falha (λ) do sistema é de 20 falhas por hora.",
                correctAnswer: "E",
            },
            {
                subject: "RACIOCÍNIO LÓGICO",
                text: "A proposição \"Se há indícios de autoria, então a prisão preventiva é decretada\" é logicamente equivalente a \"Se a prisão preventiva é decretada, então há indícios de autoria\".",
                correctAnswer: "E",
            },
            {
                subject: "INFORMÁTICA",
                text: "Durante uma perícia em um computador com sistema operacional Linux, para confirmar o diretório atual em que se encontra e, em seguida, alterar a senha do usuário padrão, o perito deve executar, respectivamente, os comandos `passwd` e `pwd`.",
                correctAnswer: "E",
            },
            {
                subject: "CONTABILIDADE",
                text: "Ao identificar uma obrigação provável e mensurável decorrente de uma ação trabalhista, a empresa deve registrar o valor correspondente em uma conta de Reserva para Contingências, localizada no Patrimônio Líquido.",
                correctAnswer: "E",
            },
            {
                subject: "LEGISLAÇÃO ESPECIAL",
                text: "Conforme a Lei de Drogas (Lei nº 11.343/06) e o recente entendimento do STF (RE 635.659/2023), o porte de pequena quantidade de maconha para consumo pessoal foi descriminalizado, resultando na abolição de qualquer sanção, inclusive a de advertência sobre os efeitos das drogas.",
                correctAnswer: "E",
            },
            {
                subject: "LEGISLAÇÃO ESPECIAL",
                text: "De acordo com o Estatuto do Desarmamento (Lei nº 10.826/03), o crime de porte ilegal de arma de fogo de uso permitido é classificado como hediondo, aplicando-se ao condenado as mesmas regras de progressão de regime dos crimes hediondos típicos.",
                correctAnswer: "E",
            },
            {
                subject: "DIREITO ADMINISTRATIVO",
                text: "Segundo a Lei nº 8.112/90, a penalidade de demissão aplicada a um Agente de Polícia Federal será sempre precedida de um processo administrativo disciplinar, no qual o servidor demitido ficará incompatibilizado para nova investidura em cargo público federal pelo prazo fixo de 5 anos.",
                correctAnswer: "E",
            },
            {
                subject: "PORTUGUÊS",
                text: "Na frase \"Somente o delegado pode autorizar a operação\", a alteração da posição do termo para \"O delegado pode somente autorizar a operação\" mantém o sentido original, indicando que a autorização é uma prerrogativa exclusiva do delegado.",
                correctAnswer: "E",
            }
        ];

        // Elementos da UI
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const startButton = document.getElementById('start-button');
        const questionText = document.getElementById('question-text');
        const answerButtons = document.querySelectorAll('.btn-answer');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const finishButton = document.getElementById('finish-button');
        const timerEl = document.getElementById('timer');
        const progressEl = document.getElementById('progress');
        const scoreTextEl = document.getElementById('score-text');
        const restartButton = document.getElementById('restart-button');

        // Estado do Simulado
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let timerInterval;
        let timeLeft = 30 * 60;

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultsScreen.classList.add('hidden');
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            timeLeft = 30 * 60;
            timerEl.textContent = "30:00";
            displayQuestion();
            startTimer();
        }
        
        function restartQuiz() {
            resultsScreen.classList.add('hidden');
            startQuiz();
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerEl.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                if (timeLeft <= 0) {
                    finishQuiz();
                }
            }, 1000);
        }

        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            questionText.innerHTML = `<span class="font-teko text-xl text-red-500">[${question.subject}]</span> ${question.text}`;
            progressEl.textContent = `Questão ${currentQuestionIndex + 1} de ${questions.length}`;

            answerButtons.forEach(button => {
                button.classList.remove('selected');
                if (userAnswers[currentQuestionIndex] === button.dataset.answer) {
                    button.classList.add('selected');
                }
            });

            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.disabled = currentQuestionIndex === questions.length - 1;
        }

        function selectAnswer(answer) {
            userAnswers[currentQuestionIndex] = answer;
            displayQuestion();
        }

        function finishQuiz() {
            clearInterval(timerInterval);
            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
        }

        // Event Listeners
        startButton.addEventListener('click', startQuiz);
        restartButton.addEventListener('click', restartQuiz);

        answerButtons.forEach(button => {
            button.addEventListener('click', () => selectAnswer(button.dataset.answer));
        });

        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            }
        });

        finishButton.addEventListener('click', finishQuiz);

    </script>
</body>
</html>
